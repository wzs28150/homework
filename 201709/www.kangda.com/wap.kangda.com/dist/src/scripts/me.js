define("domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t+=1)e[t](s)}function t(){var t=u;c&&t.length&&(u=[],e(t))}function n(){c||(c=!0,i&&clearInterval(i),t())}function a(e){return c?e(s):u.push(e),a}var o,r,i,l="undefined"!=typeof window&&window.document,c=!l,s=l?document:null,u=[];if(l){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),r=document.createElement("div");try{o=null===window.frameElement}catch(e){}r.doScroll&&o&&window.external&&(i=setInterval(function(){try{r.doScroll(),n()}catch(e){}},30))}"complete"===document.readyState&&n()}return a.version="2.0.1",a.load=function(e,t,n,o){o.isBuild?n(null):a(n)},a}),function(e){function t(t,a,o){var r=this;return this.on("click.pjax",t,function(t){var i=e.extend({},m(a,o));i.container||(i.container=e(this).attr("data-pjax")||r),n(t,i)})}function n(t,n,a){a=m(n,a);var r=t.currentTarget;if("A"!==r.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==r.protocol||location.hostname!==r.hostname||r.href.indexOf("#")>-1&&h(r)==h(location)||t.isDefaultPrevented())){var i={url:r.href,container:e(r).attr("data-pjax"),target:r},l=e.extend({},i,a),c=e.Event("pjax:click");e(r).trigger(c,[l]),c.isDefaultPrevented()||(o(l),t.preventDefault(),e(r).trigger("pjax:clicked",[l]))}}function a(t,n,a){a=m(n,a);var r=t.currentTarget,i=e(r);if("FORM"!==r.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var l={type:(i.attr("method")||"GET").toUpperCase(),url:i.attr("action"),container:i.attr("data-pjax"),target:r};if("GET"!==l.type&&void 0!==window.FormData)l.data=new FormData(r),l.processData=!1,l.contentType=!1;else{if(e(r).find(":file").length)return;l.data=e(r).serializeArray()}o(e.extend({},l,a)),t.preventDefault()}function o(t){function n(t,n,o){o||(o={}),o.relatedTarget=a;var r=e.Event(t,o);return l.trigger(r,n),!r.isDefaultPrevented()}t=e.extend(!0,{},e.ajaxSettings,o.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var a=t.target,r=f(t.url).hash,l=t.context=v(t.container);t.data||(t.data={}),e.isArray(t.data)?t.data.push({name:"_pjax",value:l.selector}):t.data._pjax=l.selector;var c;t.beforeSend=function(e,a){if("GET"!==a.type&&(a.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",l.selector),!n("pjax:beforeSend",[e,a]))return!1;a.timeout>0&&(c=setTimeout(function(){n("pjax:timeout",[e,t])&&e.abort("timeout")},a.timeout),a.timeout=0);var o=f(a.url);r&&(o.hash=r),t.requestUrl=p(o)},t.complete=function(e,a){c&&clearTimeout(c),n("pjax:complete",[e,a,t]),n("pjax:end",[e,t])},t.error=function(e,a,o){var r=y("",e,t),l=n("pjax:error",[e,a,o,t]);"GET"==t.type&&"abort"!==a&&l&&i(r.url)},t.success=function(a,c,s){var d=o.state,p="function"==typeof e.pjax.defaults.version?e.pjax.defaults.version():e.pjax.defaults.version,h=s.getResponseHeader("X-PJAX-Version"),m=y(a,s,t),v=f(m.url);if(r&&(v.hash=r,m.url=v.href),p&&h&&p!==h)return void i(m.url);if(!m.contents)return void i(m.url);o.state={id:t.id||u(),url:m.url,title:m.title,container:l.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(o.state,m.title,m.url);var g=e.contains(t.container,document.activeElement);if(g)try{document.activeElement.blur()}catch(e){}m.title&&(document.title=m.title),n("pjax:beforeReplace",[m.contents,t],{state:o.state,previousState:d}),l.html(m.contents);var x=l.find("input[autofocus], textarea[autofocus]").last()[0];x&&document.activeElement!==x&&x.focus(),b(m.scripts);var $=t.scrollTo;if(r){var w=decodeURIComponent(r.slice(1)),j=document.getElementById(w)||document.getElementsByName(w)[0];j&&($=e(j).offset().top)}"number"==typeof $&&e(window).scrollTop($),n("pjax:success",[a,c,s,t])},o.state||(o.state={id:u(),url:window.location.href,title:document.title,container:l.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(o.state,document.title)),s(o.xhr),o.options=t;var h=o.xhr=e.ajax(t);return h.readyState>0&&(t.push&&!t.replace&&($(o.state.id,d(l)),window.history.pushState(null,"",t.requestUrl)),n("pjax:start",[h,t]),n("pjax:send",[h,t])),o.xhr}function r(t,n){var a={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return o(e.extend(a,m(t,n)))}function i(e){window.history.replaceState(null,"",o.state.url),window.location.replace(e)}function l(t){E||s(o.xhr);var n,a=o.state,r=t.state;if(r&&r.container){if(E&&_==r.url)return;if(a){if(a.id===r.id)return;n=a.id<r.id?"forward":"back"}var l=q[r.id]||[],c=e(l[0]||r.container),u=l[1];if(c.length){a&&w(n,a.id,d(c));var p=e.Event("pjax:popstate",{state:r,direction:n});c.trigger(p);var f={id:r.id,url:r.url,container:c,push:!1,fragment:r.fragment,timeout:r.timeout,scrollTo:!1};if(u){c.trigger("pjax:start",[null,f]),o.state=r,r.title&&(document.title=r.title);var h=e.Event("pjax:beforeReplace",{state:r,previousState:a});c.trigger(h,[u,f]),c.html(u),c.trigger("pjax:end",[null,f])}else o(f);c[0].offsetHeight}else i(location.href)}E=!1}function c(t){var n=e.isFunction(t.url)?t.url():t.url,a=t.type?t.type.toUpperCase():"GET",o=e("<form>",{method:"GET"===a?"GET":"POST",action:n,style:"display:none"});"GET"!==a&&"POST"!==a&&o.append(e("<input>",{type:"hidden",name:"_method",value:a.toLowerCase()}));var r=t.data;if("string"==typeof r)e.each(r.split("&"),function(t,n){var a=n.split("=");o.append(e("<input>",{type:"hidden",name:a[0],value:a[1]}))});else if(e.isArray(r))e.each(r,function(t,n){o.append(e("<input>",{type:"hidden",name:n.name,value:n.value}))});else if("object"==typeof r){var i;for(i in r)o.append(e("<input>",{type:"hidden",name:i,value:r[i]}))}e(document.body).append(o),o.submit()}function s(t){t&&t.readyState<4&&(t.onreadystatechange=e.noop,t.abort())}function u(){return(new Date).getTime()}function d(e){var t=e.clone();return t.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[e.selector,t.contents()]}function p(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),e.href.replace(/\?($|#)/,"$1")}function f(e){var t=document.createElement("a");return t.href=e,t}function h(e){return e.href.replace(/#.*/,"")}function m(t,n){return t&&n?n.container=t:n=e.isPlainObject(t)?t:{container:t},n.container&&(n.container=v(n.container)),n}function v(t){if(t=e(t),t.length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function g(e,t){return e.filter(t).add(e.find(t))}function x(t){return e.parseHTML(t,document,!0)}function y(t,n,a){var o={},r=/<html/i.test(t),i=n.getResponseHeader("X-PJAX-URL");if(o.url=i?p(f(i)):a.requestUrl,r)var l=e(x(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),c=e(x(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var l=c=e(x(t));if(0===c.length)return o;if(o.title=g(l,"title").last().text(),a.fragment){if("body"===a.fragment)var s=c;else var s=g(c,a.fragment).first();s.length&&(o.contents="body"===a.fragment?s:s.contents(),o.title||(o.title=s.attr("title")||s.data("title")))}else r||(o.contents=c);return o.contents&&(o.contents=o.contents.not(function(){return e(this).is("title")}),o.contents.find("title").remove(),o.scripts=g(o.contents,"script[src]").remove(),o.contents=o.contents.not(o.scripts)),o.title&&(o.title=e.trim(o.title)),o}function b(t){if(t){var n=e("script[src]");t.each(function(){var t=this.src,a=n.filter(function(){return this.src===t});if(!a.length){var o=document.createElement("script"),r=e(this).attr("type");r&&(o.type=r),o.src=e(this).attr("src"),document.head.appendChild(o)}})}}function $(e,t){q[e]=t,D.push(e),j(M,0),j(D,o.defaults.maxCacheLength)}function w(e,t,n){var a,r;q[t]=n,"forward"===e?(a=D,r=M):(a=M,r=D),a.push(t),(t=r.pop())&&delete q[t],j(a,o.defaults.maxCacheLength)}function j(e,t){for(;e.length>t;)delete q[e.shift()]}function k(){return e("meta").filter(function(){var t=e(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function S(){e.fn.pjax=t,e.pjax=o,e.pjax.enable=e.noop,e.pjax.disable=T,e.pjax.click=n,e.pjax.submit=a,e.pjax.reload=r,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:k},e(window).on("popstate.pjax",l)}function T(){e.fn.pjax=function(){return this},e.pjax=c,e.pjax.enable=S,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",l)}var E=!0,_=window.location.href,C=window.history.state;C&&C.container&&(o.state=C),"state"in window.history&&(E=!1);var q={},M=[],D=[];e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),e.support.pjax?S():T()}(jQuery),define("pjax",function(){}),function(e){function t(e){return e.replace(/(:|\.)/g,"\\$1")}var n="1.4.10",a={exclude:[],excludeWithin:[],offset:0,onclass:"on",direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2},o=function(t){var n=[],a=!1,o=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var t=e(this);t[o]()>0?n.push(this):(t[o](1),a=t[o]()>0,a&&n.push(this),t[o](0))}}),n.length||this.each(function(e){"BODY"===this.nodeName&&(n=[this])}),"first"===t.el&&n.length>1&&(n=[n[0]]),n};"ontouchend"in document;e.fn.extend({scrollable:function(e){var t=o.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=o.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(n){n=n||{};var a=e.extend({},e.fn.smoothScroll.defaults,n),o=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(n){var r=this,i=e(this),l=a.exclude,c=a.excludeWithin,s=0,u=0,d=!0,p={},f=location.hostname===r.hostname||!r.hostname,h=a.scrollTarget||(e.smoothScroll.filterPath(r.pathname)||o)===o,m=t(r.hash);if(i.siblings("a").removeClass(a.onclass),i.addClass(a.onclass),a.scrollTarget||f&&h&&m){for(;d&&s<l.length;)i.is(t(l[s++]))&&(d=!1);for(;d&&u<c.length;)i.closest(c[u++]).length&&(d=!1)}else d=!1;d&&(n.preventDefault(),e.extend(p,a,{scrollTarget:a.scrollTarget||m,link:r}),e.smoothScroll(p))}),this}}),e.smoothScroll=function(t,n){var a,o,r,i,l=0,c="offset",s="scrollTop",u={},d={};"number"==typeof t?(a=e.fn.smoothScroll.defaults,r=t):(a=e.extend({},e.fn.smoothScroll.defaults,t||{}),a.scrollElement&&(c="position","static"==a.scrollElement.css("position")&&a.scrollElement.css("position","relative"))),a=e.extend({link:null},a),s="left"==a.direction?"scrollLeft":s,a.scrollElement?(o=a.scrollElement,l=o[s]()):o=e("html, body").firstScrollable(),a.beforeScroll.call(o,a),r="number"==typeof t?t:n||e(a.scrollTarget)[c]()&&e(a.scrollTarget)[c]()[a.direction]||0,u[s]=r+l+a.offset,i=a.speed,"auto"===i&&(i=u[s]||o.scrollTop(),i/=a.autoCoefficent),d={duration:i,easing:a.easing,complete:function(){a.afterScroll.call(a.link,a)}},a.step&&(d.step=a.step),o.length?o.stop().animate(u,d):a.afterScroll.call(a.link,a)},e.smoothScroll.version=n,e.smoothScroll.filterPath=function(e){return e.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults=a}(jQuery),define("smoothscroll",function(){}),define("alertinfo",[],function(){var e;return e=function(e,t){$(".alert_player").fadeIn(),$(".alert_player .info").html(e),void 0===t||$(".alert_player .queren_btn,.alert_player .bg").click(function(){location.href=t}),$(".alert_player .bg,.alert_player .queren_btn").click(function(){$(".alert_player").fadeOut()})},{initModule:e}}),define("pajax",["pjax","smoothscroll","alertinfo"],function(e,t,n){var a,o,r;return o=function(e,t,a){$.support.pjax&&($("body").stop().undelegate("a[data-ajax!=no]","click"),$("body").stop().delegate("a[data-ajax!=no]","click",function(t){t.preventDefault();var a=$(this).attr("href"),o=$(this).attr("data-container"),i=$(this).attr("data-fragment"),l=$(this).attr("data-istop");return r=$(this).attr("data-target"),a||n.initModule("网站维护中..."),o=o?"."+o:e,i=i?"."+i:e,$(".pjaxcontainer").removeClass("pjaxcontainer"),$(o).addClass("pjaxcontainer"),$(o).stop().animate({opacity:"1"},0),setTimeout(function(){$.pjax({url:a,container:o,fragment:i,timeout:8e3,scrollTo:!1}),l||r&&$("article").attr("data-main")==localStorage.mainaction||$("html,body").stop().animate({scrollTop:0},400)},0),!1}),$(document).on("pjax:send",function(e){$("#progress").removeClass("done"),$({property:0}).animate({property:100},{duration:1e3,step:function(){var e=Math.round(this.property);$("#progress").css("width",e+"%"),100==e&&$("#progress").addClass("done")}})}),$(document).on("pjax:success",function(e,t,n,a){$(window).unbind("scroll")}),$(document).on("pjax:complete",function(){$("#progress").addClass("done")}),$(document).on("pjax:end",function(e,t,n,o){$("title").text(e.currentTarget.title),$(".pjaxcontainer").stop().animate({opacity:"1"},300),"main"!=n.container?a(r,!0):a(r,!1)}),$(document).on("pjax:error",function(){console.log("加载失败!")}),$(document).on("pjax:popstate",function(e,t,n,a){}))},a=function(e,t,n){o(e,t,n)},{initModule:a}}),function(e){var t,n,a=e.event;t=a.special.debouncedresize={setup:function(){e(this).on("resize",t.handler)},teardown:function(){e(this).off("resize",t.handler)},handler:function(e,o){var r=this,i=arguments,l=function(){e.type="debouncedresize",a.dispatch.apply(r,i)};n&&clearTimeout(n),o?l():n=setTimeout(l,t.threshold)},threshold:150}}(jQuery),define("debouncedresize",function(){}),define("router",[],function(){var initModule,router,navactive,sub_nav,backtotop;return backtotop=function(){var e=500;$(window).scroll(function(){var t=$(window).scrollTop();t>e?$(".backtotop").fadeIn(100):$(".backtotop").fadeOut(200)}),$(".backtotop a.totop").on("click",function(e){e.preventDefault(),$("body,html").animate({scrollTop:0},700)})},navactive=function(e){$("body").undelegate("nav>ul>li>a","click"),$("body").delegate("nav>ul>li>a","click",function(){var e=$(this);e.next("ul").length>0?e.next("ul").is(":hidden")?($("nav>ul>li>ul").slideUp(),$("nav>ul>li>a").removeClass("on"),e.addClass("on"),e.next("ul").slideDown()):($("nav>ul>li>a").removeClass("on"),e.next("ul").slideUp()):($("nav>ul>li>a").removeClass("on"),$("nav>ul>li>ul").slideUp(),$("#myInput").removeAttr("checked"))}),$("body").undelegate("nav>ul>li>ul li a","click"),$("body").delegate("nav>ul>li>ul li a","click",function(){$("nav>ul>li>a").removeClass("on"),$("nav>ul>li>ul").slideUp(),$("#myInput").removeAttr("checked")})},sub_nav=function(e){$("body").undelegate(".er-bar .er-nav a","click"),$("body").delegate(".er-bar .er-nav a","click",function(){$("#er-check").removeAttr("checked")}),$("body").undelegate(".er-bar .er-nav ul a","click"),$("body").delegate(".er-bar .er-nav  ul a","click",function(){$(".er-bar .er-nav>a").html($(this).html()),$(".er-bar .er-nav ul").hide(),$("html, body").stop().animate({scrollTop:$(".er-bar-targat").offset().top},{duration:500,easing:"swing"})}),$(".er-bar-targat").length>0&&$(window).scroll(function(){var e=$(".er-bar-targat").offset().top,t=$(this).scrollTop();t>=e?$(".er-bar").addClass("on"):t<e&&$(".er-bar").removeClass("on")})},router=function(article,state){var action=$(article).attr("data-main"),eraction=$(".eraction").attr("data-fun");action&&(eraction?state&&localStorage.mainaction&&localStorage.mainaction==action?require(["./lib/"+action],function(action){var str="action."+eraction+"(function(a){})";eval(str),sub_nav()}):(localStorage.mainaction=action,require(["./lib/"+action],function(action){action.initModule(function(e){navactive(e),sub_nav()});var str="action."+eraction+"(function(a){navactive(a);sub_nav();})";eval(str)})):(localStorage.mainaction=action,require(["./lib/"+action],function(e){e.initModule(function(e){navactive(e),sub_nav()})})))},initModule=function(e,t){router(e,t)},{initModule:initModule}}),define("scroll",[""],function(){var e,t,n;return t=function(e){$(e).niceScroll({cursorcolor:"#4284e2",cursorwidth:"5px",cursorfixedheight:!1,cursorminheight:20,enablekeyboard:!0,horizrailenabled:!0,bouncescroll:!1,smoothscroll:!0,zindex:999})},e=function(e){t(e)},n=function(e){$(e).getNiceScroll(0).resize()},{initModule:e,resetsize:n}}),define("main",["pajax","debouncedresize","router","smoothscroll","scroll"],function(e,t,n,a,o){var r,i,l,c,s,u;return u=function(e){"use strict";return jQuery(e).length>0},i=function(){"use strict";u(".animate-element")&&$(".animate-element:in-viewport").each(function(e){var t=$(this);t.hasClass("in-viewport")||setTimeout(function(){t.addClass("in-viewport")},100*e)})},c=function(e,t){$(".alert_player").fadeIn(),$(".alert_player .info").html(e),void 0===t||$(".alert_player .queren_btn,.alert_player .bg").click(function(){location.href=t})},l=function(){var e=($("header").height(),$("footer").height()),t=$(window).height()-e;$("article").css("min-height",t+"px")},s=function(){$("body").undelegate(".msg a","click"),$("body").delegate(".msg a","click",function(e){var t=$("#name").val(),n=$("#tel").val(),a=$("#email").val(),o=$("#msg").val(),r=$(".msg").attr("data-url");t||c("Имя пользователя  не может быть пустым！"),n||c("номер телефона  не может быть пустым ！"),a||c("почтовый ящик  не может быть пустым！"),o||c("содержание  не может быть пустым ！"),arrData={name:t,tel:n,email:a,msg:o},$.post(r,arrData,function(e){c("118"==e.err_code?e.err_info:e.err_info)},"json")})},r=function(){n.initModule("article",!1);$(window).width();s(),require(["viewport"],function(e){i(),$(window).scroll(function(e){i()})}),$(window).on("debouncedresize",function(){}),e.initModule("main",function(){},function(e,t){n.initModule("article",t),s(),require(["viewport"],function(e){i(),$(window).scroll(function(e){i()})}),e&&setTimeout(function(){$.smoothScroll({offset:-$("header").height(),speed:500,scrollTarget:"#"+e})},500)}),$(".alert_player .bg,.alert_player .queren_btn").click(function(){$(".alert_player").fadeOut()})},{initModule:r,alertinfo:c}}),require.config({urlArgs:"bust="+(new Date).getTime(),shim:{pajax:["pjax"],BMap:{exports:"BMap"},idcode:["css!./package/idcode/jquery.idcode.css"],litebox:["css!./package/litebox/css/litebox.css","imagesloaded"]},paths:{domReady:"./domReady",main:"./lib/main",pjax:"./package/pajax/jquery.pjax",pajax:"./package/pajax/pajax",router:"./package/router/router",viewport:"./package/viewport/jquery.viewport",alertinfo:"./package/alertinfo/alertinfo",css:"./package/css/css",async:"./package/async/async",debug:"./package/debug/debug",smoothscroll:"./package/scroll/jquery.smooth-scroll.min",scroll:"./package/scroll/scroll",aspectratio_responsive:"./package/media/aspectratio_responsive",swiper:"./package/swiper/v3/swiper.min",debouncedresize:"./package/compat/jquery.debouncedresize",masonry:"./package/pubu/masonry.pkgd.min",form:"./package/form/form",imagesloaded:"./package/litebox/js/images-loaded.min",litebox:"./package/litebox/js/litebox.min",idcode:"./package/idcode/jquery.idcode",loadmore:"./package/loadmore/loadmore",BMap:["http://api.map.baidu.com/api?key=&v=1.1&services=true"]}}),require(["domReady","main"],function(e,t){e(function(){t.initModule()})}),define("me",function(){});