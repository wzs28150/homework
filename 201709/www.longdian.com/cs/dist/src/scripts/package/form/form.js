define(["domReady"],function(t){function i(){$("#pro_select").find("option").remove(),$("#product span").html("Please choose"),$(".selectLayer").find("li").each(function(t){$(this).click(function(){$(".selectDiv").eq(a).find("span").text($(this).text());var i=$(".selectDiv").eq(a).find("option").eq(t).attr("selected",!0).attr("classid");$(".selectDiv").eq(a).find("span").attr("classid",i),$(".selectDiv").eq(a).find("option").attr("selected",!1),$(".selectDiv").eq(a).find("option").eq(t).attr("selected",!0),$(this).parent("ul").parent().hasClass("division")&&$.ajax({url:"index.php/index/propost",type:"get",dataType:"json",data:{classid:i},success:function(t){if(t){$("#pro_select").find("option").remove();for(var i=0;i<t.length;i++)$("#pro_select").append("<option value="+t[i].catname+">"+t[i].catname+"</option>")}else"0"==t&&alert("提交的数据错误")},error:function(){alert("有错")}})})})}function n(){$(".selectLayer").find("li").hover(function(){$(this).css("background","#f2f2f2")},function(){$(this).css("background","none")})}function e(){$(".selectLayer").find("li").each(function(t){$(".ForgotStep2Div").length>0&&$(this).click(function(){$(".ForgotStep2Div").hide(),$(".ForgotStep2Div").eq(t).show()})})}var s,a=0;return s=function(s){t(function(){$(".selectDiv").each(function(t){$(this).find("span").text($(this).find("option:first").text()),$(this).click(function(){a=t;var s="";$(this).find("option").each(function(){s=s+"<li data-value='"+$(this).val()+"'>"+$(this).text()+"</li>"}),console.log($(this).offset().top),$(".selectLayer").find("ul").attr("data-type",$(this).find("span").attr("class")).html(s),$(".selectLayer").removeClass("division").addClass($(this).attr("id")),$(".selectLayer").width($(this).width()),$(".selectLayer").css("left",$(this).offset().left),$(".selectLayer").css("top",$(this).offset().top+$(this).height()+1);var o=$(this);$("main").scroll(function(t){$(".selectLayer").css("top",o.offset().top+o.height()+1)}),$(".selectLayer").attr("name",$(this).find("span").attr("class")),$(".selectLayer").show(),n(),i(),e()})}),$(".selectLayer").hover(function(){$(this).show()},function(){$(this).hide()}),$(".check").toggle(function(){$(this).addClass("checkNow"),$(this).find("input").val(1)},function(){$(this).removeClass("checkNow"),$(this).find("input").val(0)}),$(".radio").click(function(){$(".radio").removeClass("radioNow"),$(this).addClass("radioNow"),$(".radio").find("input").val(0),$(this).find("input").val(1)}),$(".input_hover").focus(function(){$(this).attr("value")==$(this).attr("title")&&$(this).attr("value","")}),$(".input_hover").blur(function(){$(this).attr("value")!=$(this).attr("title")&&""!=$(this).attr("value")||$(this).attr("value",$(this).attr("title"))}),$(".liInput").each(function(t){$(this).find(".input1").focus(function(){$(".liInput").eq(t).find("label").hide()}),$(this).find(".input1").blur(function(){""==$(this).attr("value")&&$(".liInput").eq(t).find("label").show()}),$(this).find("label").click(function(){$(".liInput").eq(t).find("label").hide(),$(".liInput").eq(t).find(".input1").focus()})}),$(".numInput").each(function(t){$(this).find(".num").html($(this).find("input").val()),$(this).find(".jiaBtn").click(function(){$(".numInput").eq(t).find("input").val(Number($(".numInput").eq(t).find("input").val())+1),$(".numInput").eq(t).find(".num").html($(".numInput").eq(t).find("input").val())}),$(this).find(".jianBtn").click(function(){Number($(".numInput").eq(t).find("input").val())>0&&$(".numInput").eq(t).find("input").val(Number($(".numInput").eq(t).find("input").val())-1),$(".numInput").eq(t).find(".num").html($(".numInput").eq(t).find("input").val())})}),$(".input1").focus(function(){$(this).addClass("inputNow")}),$(".input1").blur(function(){$(this).removeClass("inputNow")})})},{initModule:s}});