!function(e){function t(t,a,o){var i=this;return this.on("click.pjax",t,function(t){var r=e.extend({},m(a,o));r.container||(r.container=e(this).attr("data-pjax")||i),n(t,r)})}function n(t,n,a){a=m(n,a);var i=t.currentTarget;if("A"!==i.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==i.protocol||location.hostname!==i.hostname||i.href.indexOf("#")>-1&&h(i)==h(location)||t.isDefaultPrevented())){var r={url:i.href,container:e(i).attr("data-pjax"),target:i},c=e.extend({},r,a),l=e.Event("pjax:click");e(i).trigger(l,[c]),l.isDefaultPrevented()||(o(c),t.preventDefault(),e(i).trigger("pjax:clicked",[c]))}}function a(t,n,a){a=m(n,a);var i=t.currentTarget,r=e(i);if("FORM"!==i.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var c={type:(r.attr("method")||"GET").toUpperCase(),url:r.attr("action"),container:r.attr("data-pjax"),target:i};if("GET"!==c.type&&void 0!==window.FormData)c.data=new FormData(i),c.processData=!1,c.contentType=!1;else{if(e(i).find(":file").length)return;c.data=e(i).serializeArray()}o(e.extend({},c,a)),t.preventDefault()}function o(t){function n(t,n,o){o||(o={}),o.relatedTarget=a;var i=e.Event(t,o);return c.trigger(i,n),!i.isDefaultPrevented()}t=e.extend(!0,{},e.ajaxSettings,o.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var a=t.target,i=f(t.url).hash,c=t.context=g(t.container);t.data||(t.data={}),e.isArray(t.data)?t.data.push({name:"_pjax",value:c.selector}):t.data._pjax=c.selector;var l;t.beforeSend=function(e,a){if("GET"!==a.type&&(a.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",c.selector),!n("pjax:beforeSend",[e,a]))return!1;a.timeout>0&&(l=setTimeout(function(){n("pjax:timeout",[e,t])&&e.abort("timeout")},a.timeout),a.timeout=0);var o=f(a.url);i&&(o.hash=i),t.requestUrl=p(o)},t.complete=function(e,a){l&&clearTimeout(l),n("pjax:complete",[e,a,t]),n("pjax:end",[e,t])},t.error=function(e,a,o){var i=x("",e,t),c=n("pjax:error",[e,a,o,t]);"GET"==t.type&&"abort"!==a&&c&&r(i.url)},t.success=function(a,l,s){var d=o.state,p="function"==typeof e.pjax.defaults.version?e.pjax.defaults.version():e.pjax.defaults.version,h=s.getResponseHeader("X-PJAX-Version"),m=x(a,s,t),g=f(m.url);if(i&&(g.hash=i,m.url=g.href),p&&h&&p!==h)return void r(m.url);if(!m.contents)return void r(m.url);o.state={id:t.id||u(),url:m.url,title:m.title,container:c.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(o.state,m.title,m.url);var v=e.contains(t.container,document.activeElement);if(v)try{document.activeElement.blur()}catch(e){}m.title&&(document.title=m.title),n("pjax:beforeReplace",[m.contents,t],{state:o.state,previousState:d}),c.html(m.contents);var w=c.find("input[autofocus], textarea[autofocus]").last()[0];w&&document.activeElement!==w&&w.focus(),$(m.scripts);var y=t.scrollTo;if(i){var b=decodeURIComponent(i.slice(1)),j=document.getElementById(b)||document.getElementsByName(b)[0];j&&(y=e(j).offset().top)}"number"==typeof y&&e(window).scrollTop(y),n("pjax:success",[a,l,s,t])},o.state||(o.state={id:u(),url:window.location.href,title:document.title,container:c.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(o.state,document.title)),s(o.xhr),o.options=t;var h=o.xhr=e.ajax(t);return h.readyState>0&&(t.push&&!t.replace&&(y(o.state.id,d(c)),window.history.pushState(null,"",t.requestUrl)),n("pjax:start",[h,t]),n("pjax:send",[h,t])),o.xhr}function i(t,n){var a={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return o(e.extend(a,m(t,n)))}function r(e){window.history.replaceState(null,"",o.state.url),window.location.replace(e)}function c(t){C||s(o.xhr);var n,a=o.state,i=t.state;if(i&&i.container){if(C&&E==i.url)return;if(a){if(a.id===i.id)return;n=a.id<i.id?"forward":"back"}var c=q[i.id]||[],l=e(c[0]||i.container),u=c[1];if(l.length){a&&b(n,a.id,d(l));var p=e.Event("pjax:popstate",{state:i,direction:n});l.trigger(p);var f={id:i.id,url:i.url,container:l,push:!1,fragment:i.fragment,timeout:i.timeout,scrollTo:!1};if(u){l.trigger("pjax:start",[null,f]),o.state=i,i.title&&(document.title=i.title);var h=e.Event("pjax:beforeReplace",{state:i,previousState:a});l.trigger(h,[u,f]),l.html(u),l.trigger("pjax:end",[null,f])}else o(f);l[0].offsetHeight}else r(location.href)}C=!1}function l(t){var n=e.isFunction(t.url)?t.url():t.url,a=t.type?t.type.toUpperCase():"GET",o=e("<form>",{method:"GET"===a?"GET":"POST",action:n,style:"display:none"});"GET"!==a&&"POST"!==a&&o.append(e("<input>",{type:"hidden",name:"_method",value:a.toLowerCase()}));var i=t.data;if("string"==typeof i)e.each(i.split("&"),function(t,n){var a=n.split("=");o.append(e("<input>",{type:"hidden",name:a[0],value:a[1]}))});else if(e.isArray(i))e.each(i,function(t,n){o.append(e("<input>",{type:"hidden",name:n.name,value:n.value}))});else if("object"==typeof i){var r;for(r in i)o.append(e("<input>",{type:"hidden",name:r,value:i[r]}))}e(document.body).append(o),o.submit()}function s(t){t&&t.readyState<4&&(t.onreadystatechange=e.noop,t.abort())}function u(){return(new Date).getTime()}function d(e){var t=e.clone();return t.find("script").each(function(){this.src||jQuery._data(this,"globalEval",!1)}),[e.selector,t.contents()]}function p(e){return e.search=e.search.replace(/([?&])(_pjax|_)=[^&]*/g,""),e.href.replace(/\?($|#)/,"$1")}function f(e){var t=document.createElement("a");return t.href=e,t}function h(e){return e.href.replace(/#.*/,"")}function m(t,n){return t&&n?n.container=t:n=e.isPlainObject(t)?t:{container:t},n.container&&(n.container=g(n.container)),n}function g(t){if(t=e(t),t.length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function v(e,t){return e.filter(t).add(e.find(t))}function w(t){return e.parseHTML(t,document,!0)}function x(t,n,a){var o={},i=/<html/i.test(t),r=n.getResponseHeader("X-PJAX-URL");if(o.url=r?p(f(r)):a.requestUrl,i)var c=e(w(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),l=e(w(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var c=l=e(w(t));if(0===l.length)return o;if(o.title=v(c,"title").last().text(),a.fragment){if("body"===a.fragment)var s=l;else var s=v(l,a.fragment).first();s.length&&(o.contents="body"===a.fragment?s:s.contents(),o.title||(o.title=s.attr("title")||s.data("title")))}else i||(o.contents=l);return o.contents&&(o.contents=o.contents.not(function(){return e(this).is("title")}),o.contents.find("title").remove(),o.scripts=v(o.contents,"script[src]").remove(),o.contents=o.contents.not(o.scripts)),o.title&&(o.title=e.trim(o.title)),o}function $(t){if(t){var n=e("script[src]");t.each(function(){var t=this.src,a=n.filter(function(){return this.src===t});if(!a.length){var o=document.createElement("script"),i=e(this).attr("type");i&&(o.type=i),o.src=e(this).attr("src"),document.head.appendChild(o)}})}}function y(e,t){q[e]=t,D.push(e),j(M,0),j(D,o.defaults.maxCacheLength)}function b(e,t,n){var a,i;q[t]=n,"forward"===e?(a=D,i=M):(a=M,i=D),a.push(t),(t=i.pop())&&delete q[t],j(a,o.defaults.maxCacheLength)}function j(e,t){for(;e.length>t;)delete q[e.shift()]}function k(){return e("meta").filter(function(){var t=e(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function S(){e.fn.pjax=t,e.pjax=o,e.pjax.enable=e.noop,e.pjax.disable=T,e.pjax.click=n,e.pjax.submit=a,e.pjax.reload=i,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:k},e(window).on("popstate.pjax",c)}function T(){e.fn.pjax=function(){return this},e.pjax=l,e.pjax.enable=S,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",c)}var C=!0,E=window.location.href,_=window.history.state;_&&_.container&&(o.state=_),"state"in window.history&&(C=!1);var q={},M=[],D=[];e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]\D|WebApps\/.+CFNetwork)/),e.support.pjax?S():T()}(jQuery),define("pjax",function(){}),function(e){function t(e){return e.replace(/(:|\.)/g,"\\$1")}var n="1.4.10",a={exclude:[],excludeWithin:[],offset:0,onclass:"on",direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficent:2},o=function(t){var n=[],a=!1,o=t.dir&&"left"==t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!=document&&this!=window){var t=e(this);t[o]()>0?n.push(this):(t[o](1),a=t[o]()>0,a&&n.push(this),t[o](0))}}),n.length||this.each(function(e){"BODY"===this.nodeName&&(n=[this])}),"first"===t.el&&n.length>1&&(n=[n[0]]),n};"ontouchend"in document;e.fn.extend({scrollable:function(e){var t=o.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=o.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(n){n=n||{};var a=e.extend({},e.fn.smoothScroll.defaults,n),o=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(n){var i=this,r=e(this),c=a.exclude,l=a.excludeWithin,s=0,u=0,d=!0,p={},f=location.hostname===i.hostname||!i.hostname,h=a.scrollTarget||(e.smoothScroll.filterPath(i.pathname)||o)===o,m=t(i.hash);if(r.siblings("a").removeClass(a.onclass),r.addClass(a.onclass),a.scrollTarget||f&&h&&m){for(;d&&s<c.length;)r.is(t(c[s++]))&&(d=!1);for(;d&&u<l.length;)r.closest(l[u++]).length&&(d=!1)}else d=!1;d&&(n.preventDefault(),e.extend(p,a,{scrollTarget:a.scrollTarget||m,link:i}),e.smoothScroll(p))}),this}}),e.smoothScroll=function(t,n){var a,o,i,r,c=0,l="offset",s="scrollTop",u={},d={};"number"==typeof t?(a=e.fn.smoothScroll.defaults,i=t):(a=e.extend({},e.fn.smoothScroll.defaults,t||{}),a.scrollElement&&(l="position","static"==a.scrollElement.css("position")&&a.scrollElement.css("position","relative"))),a=e.extend({link:null},a),s="left"==a.direction?"scrollLeft":s,a.scrollElement?(o=a.scrollElement,c=o[s]()):o=e("html, body").firstScrollable(),a.beforeScroll.call(o,a),i="number"==typeof t?t:n||e(a.scrollTarget)[l]()&&e(a.scrollTarget)[l]()[a.direction]||0,u[s]=i+c+a.offset,r=a.speed,"auto"===r&&(r=u[s]||o.scrollTop(),r/=a.autoCoefficent),d={duration:r,easing:a.easing,complete:function(){a.afterScroll.call(a.link,a)}},a.step&&(d.step=a.step),o.length?o.stop().animate(u,d):a.afterScroll.call(a.link,a)},e.smoothScroll.version=n,e.smoothScroll.filterPath=function(e){return e.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults=a}(jQuery),define("smoothscroll",function(){}),define("alertinfo",[],function(){var e;return e=function(e,t){$(".alert_player").fadeIn(),$(".alert_player .info").html(e),void 0===t||$(".alert_player .queren_btn,.alert_player .bg").click(function(){location.href=t}),$(".alert_player .bg,.alert_player .queren_btn").click(function(){$(".alert_player").fadeOut()})},{initModule:e}}),define("pajax",["pjax","smoothscroll","alertinfo"],function(e,t,n){var a,o,i;return o=function(e,t,a){$.support.pjax&&($("body").stop().undelegate("a[data-ajax!=no]","click"),$("body").stop().delegate("a[data-ajax!=no]","click",function(t){t.preventDefault();var a=$(this).attr("href"),o=$(this).attr("data-container"),r=$(this).attr("data-fragment"),c=$(this).attr("data-istop");return i=$(this).attr("data-target"),a||n.initModule("网站维护中..."),o=o?"."+o:e,r=r?"."+r:e,$(".pjaxcontainer").removeClass("pjaxcontainer"),$(o).addClass("pjaxcontainer"),$(".pjaxcontainer").addClass("on"),setTimeout(function(){$.pjax({url:a,container:o,fragment:r,timeout:8e3,scrollTo:!1}),c||i&&$("article").attr("data-main")==localStorage.mainaction||$("html,body").animate({scrollTop:0},400)},0),!1}),$(document).on("pjax:send",function(e){$("#progress").removeClass("done"),$(".pjaxcontainer").removeClass("on"),$({property:0}).animate({property:100},{duration:1e3,step:function(){var e=Math.round(this.property);$("#progress").css("width",e+"%"),100==e&&$("#progress").addClass("done")}})}),$(document).on("pjax:success",function(e,t,n,a){$(window).unbind("scroll")}),$(document).on("pjax:complete",function(){$("#progress").addClass("done")}),$(document).on("pjax:end",function(e,t,n,o){$("title").text(e.currentTarget.title),$(".pjaxcontainer").removeClass("on"),"main"!=n.container?a(i,!0):a(i,!1)}),$(document).on("pjax:error",function(){console.log("加载失败!")}),$(document).on("pjax:popstate",function(e,t,n,a){}))},a=function(e,t,n){o(e,t,n)},{initModule:a}}),function(e){var t,n,a=e.event;t=a.special.debouncedresize={setup:function(){e(this).on("resize",t.handler)},teardown:function(){e(this).off("resize",t.handler)},handler:function(e,o){var i=this,r=arguments,c=function(){e.type="debouncedresize",a.dispatch.apply(i,r)};n&&clearTimeout(n),o?c():n=setTimeout(c,t.threshold)},threshold:150}}(jQuery),define("debouncedresize",function(){}),define("router",[],function(){var initModule,router,navactive,sub_nav,backtotop;return backtotop=function(){var e=500;$(window).scroll(function(){var t=$(window).scrollTop();t>e?$(".backtotop").fadeIn(100):$(".backtotop").fadeOut(200)}),$(".backtotop a.totop").on("click",function(e){e.preventDefault(),$("body,html").animate({scrollTop:0},700)})},navactive=function(e){$("#myInput").attr("checked",!1),$("#searchchange").attr("checked",!1),$("nav a").removeClass("on"),$("nav a").eq(e).addClass("on"),$("body").undelegate("nav > ul > li  a","click"),$("body").delegate("nav > ul > li  a","click",function(){var e=$(this).next("ul");e.length>0?e.is(":hidden")?e.show():e.hide():($("nav > ul > li >ul").hide(),$("#myInput").attr("checked",!1))})},sub_nav=function(e){$(".position .er-nav a").eq(e).addClass("on"),$(".position .er-nav a").stop().click(function(){$(".position .er-nav a").removeClass("on"),$(this).addClass("on")})},router=function(article,state){var action=$(article).attr("data-main"),eraction=$(".eraction").attr("data-fun");action&&(eraction?state&&localStorage.mainaction&&localStorage.mainaction==action?require(["./lib/"+action],function(action){var str="action."+eraction+"(function(a){sub_nav(a);})";eval(str)}):(localStorage.mainaction=action,require(["./lib/"+action],function(action){action.initModule(function(e){navactive(e)});var str="action."+eraction+"(function(a){sub_nav(a);})";eval(str)})):(localStorage.mainaction=action,require(["./lib/"+action],function(e){e.initModule(function(e){navactive(e),sub_nav()})})))},initModule=function(e,t){router(e,t)},{initModule:initModule}}),define("scroll",[""],function(){var e,t,n;return t=function(e){$(e).niceScroll({cursorcolor:"#4284e2",cursorwidth:"5px",cursorfixedheight:!1,cursorminheight:20,enablekeyboard:!0,horizrailenabled:!0,bouncescroll:!1,smoothscroll:!0,zindex:999})},e=function(e){t(e)},n=function(e){$(e).getNiceScroll(0).resize()},{initModule:e,resetsize:n}}),define("debug",[],function(){var e,t={isdebug:!0};return e=function(e){t.isdebug&&console.log(e+" - Created by wzs")},{initModule:e}}),define("main",["pajax","debouncedresize","router","smoothscroll","scroll","debug"],function(e,t,n,a,o,i){var r,c,l,s,u,d,p,f,i=i.initModule;return d=function(e){"use strict";return jQuery(e).length>0},c=function(){"use strict";d(".animate-element")&&$(".animate-element:in-viewport").each(function(e){var t=$(this);t.hasClass("in-viewport")||setTimeout(function(){t.addClass("in-viewport")},100*e)})},s=function(e,t){$(".alert_player").fadeIn(),$(".alert_player .info").html(e),void 0===t||$(".alert_player .queren_btn,.alert_player .bg").click(function(){location.href=t})},p=function(){$("#backtotop").on("click",function(){return $("body,html").animate({scrollTop:0},1e3),!1}),$(window).scroll(function(){$(window).scrollTop(),$(window).width();$(document).height()-$(document).scrollTop()-window.innerHeight<100?$("#backtotop").fadeIn():$("#backtotop").fadeOut()})},f=function(){$(".search-tan .search-main .item>input").on("input propertychange",function(){var e=$(this),t=$(this).next("a"),n=e.attr("data-url");$(this).val().length>0?(t.removeAttr("data-ajax"),t.attr("href",n+"?keywords="+$(this).val())):(t.attr("data-ajax","no"),t.attr("href","javascript:void(0);"))}),$(".searh-bg").click(function(){$("#searchchange").attr("checked",!1)})},l=function(){var e,t=$("header").height(),n=$("footer").height(),a=$(window).height(),o=$("nav").height();e=o>a?o-n-t:$(window).height()-n-t,$("article").css("min-height",e+"px"),$(".full-screen").height(a-t)},u=function(){$("body").undelegate(".msg a","click"),$("body").delegate(".msg a","click",function(e){var t=$("#name").val(),n=$("#tel").val(),a=$("#email").val(),o=$("#msg").val(),i=$(".msg").attr("data-url");t||s("Имя пользователя  не может быть пустым！"),n||s("номер телефона  не может быть пустым ！"),a||s("почтовый ящик  не может быть пустым！"),o||s("содержание  не может быть пустым ！"),arrData={name:t,tel:n,email:a,msg:o},$.post(i,arrData,function(e){s("118"==e.err_code?e.err_info:e.err_info)},"json")})},r=function(){n.initModule("article",!1);$(window).width();u(),l(),p(),f(),require(["viewport"],function(e){c(),$(window).scroll(function(e){c()})}),$(window).on("debouncedresize",function(){l()}),e.initModule("main",function(){},function(e,t){n.initModule("article",t),u(),l(),p(),f(),require(["viewport"],function(e){c(),$(window).scroll(function(e){c()})}),$(window).on("debouncedresize",function(){l()}),e&&setTimeout(function(){$.smoothScroll({offset:-$("header").height(),speed:0,scrollTarget:"#"+e})},500)}),$(".alert_player .bg,.alert_player .queren_btn").click(function(){$(".alert_player").fadeOut()})},{initModule:r,alertinfo:s}}),define("domReady",[],function(){"use strict";function e(e){var t;for(t=0;t<e.length;t+=1)e[t](s)}function t(){var t=u;l&&t.length&&(u=[],e(t))}function n(){l||(l=!0,r&&clearInterval(r),t())}function a(e){return l?e(s):u.push(e),a}var o,i,r,c="undefined"!=typeof window&&window.document,l=!c,s=c?document:null,u=[];if(c){if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else if(window.attachEvent){window.attachEvent("onload",n),i=document.createElement("div");try{o=null===window.frameElement}catch(e){}i.doScroll&&o&&window.external&&(r=setInterval(function(){try{i.doScroll(),n()}catch(e){}},30))}"complete"===document.readyState&&n()}return a.version="2.0.1",a.load=function(e,t,n,o){o.isBuild?n(null):a(n)},a}),define("lib/index",["domReady","debug"],function(e,t){var n,a,o,t=($("header").height(),t.initModule);return a=function(){new Swiper(".index .banner.swiper-container",{autoplay:3e3,speed:1e3,loop:!0,pagination:".index .banner .swiper-pagination",paginationClickable:!0,nextButton:".index .banner .swiper-button-next",prevButton:".index .banner .swiper-button-prev"})},o=function(){new Swiper(".i-pro .swiper-container",{speed:1e3,pagination:".i-pro .swiper-pagination",paginationClickable:!0})},n=function(n){e(function(){n(0),t("首页加载完毕"),require(["swiper"],function(e){a(),o()}),require(["photo"],function(e){e(".demo-gallery")})})},{initModule:n}}),require.config({urlArgs:"bust="+(new Date).getTime(),shim:{pajax:["pjax"],photoswipe:["css!./package/photoswiper/photoswipe.css","css!./package/photoswiper/default-skin/default-skin.css"],slide:["css!./package/slide/less/index.css","css!./package/slide/less/slide.css"],page:["pagination"]},paths:{domReady:"./domReady",main:"./lib/main",pjax:"./package/pajax/jquery.pjax",pajax:"./package/pajax/pajax",router:"./package/router/router",page:"./package/pagination/page",pagination:"./package/pagination/pagination.min",viewport:"./package/viewport/jquery.viewport",alertinfo:"./package/alertinfo/alertinfo",css:"./package/css/css",async:"./package/async/async",debug:"./package/debug/debug",smoothscroll:"./package/scroll/jquery.smooth-scroll.min",scroll:"./package/scroll/scroll",aspectratio_responsive:"./package/media/aspectratio_responsive",swiper:"./package/swiper/v3/swiper.min",debouncedresize:"./package/compat/jquery.debouncedresize",photoswipe:"./package/photoswiper/photoswipe.min",photoswipeui:"./package/photoswiper/photoswipe-ui-default.min",photo:"./package/photoswiper/index",loadmore:"./package/loadmore/loadmore",slide:"./package/slide/js/slide.min"}}),require(["main","./lib/index"],function(e){$("document").ready(function(){e.initModule()})}),define("me",function(){});